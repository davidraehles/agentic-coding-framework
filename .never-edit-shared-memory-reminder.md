# ðŸš¨ CRITICAL REMINDER ðŸš¨

## NEVER EDIT shared-memory.json DIRECTLY

From CLAUDE.md:
- "IMPORTANT: The shared-memory.json knowledge base must ALWAYS be updated using the `ukb` command. Never edit this file directly."
- "NEVER edit shared-memory.json directly - ALWAYS use ukb --interactive or ukb --auto"

## What to do when ukb fails:

### Method 1: Direct Entity Updates (Simple) - FOR EXISTING ENTITIES ONLY
```bash
jq --arg timestamp "$(date -u +%Y-%m-%dT%H:%M:%SZ)" \
   '.entities |= map(
     if .name == "EntityName" then
       .observations += ["New insight observation"] |
       .metadata.last_updated = $timestamp
     else . end
   ) | .metadata.last_updated = $timestamp' \
   shared-memory.json > shared-memory-updated.json && \
   mv shared-memory-updated.json shared-memory.json
```

### Method 2: Piped Input for Interactive UKB
```bash
cat > /tmp/ukb-input.txt << 'EOF'
Problem description here
Solution description here  
Rationale for approach
Key learnings
Applicability
Technologies,comma,separated
https://reference-urls.com
code-file1.js,code-file2.js
1
EOF

cat /tmp/ukb-input.txt | ukb --interactive
```

### Method 3: Automated Conversation Analysis
```bash
node scripts/claude-conversation-analyzer.js
```

## If all ukb methods fail:
1. Diagnose the ukb issue first
2. Fix the underlying problem
3. NEVER resort to direct JSON editing
4. Create a bug report about ukb failure